
function iter(function< %%a : %%a> f, %%a start, uint c : vector< %%a>)
{
  vector< %%a> rv;
  %%a cur = start;
  for (var i = 0U; i < c; i++)
  {
    rv <>= cur;
    cur = f(cur);
  }
  return rv;
}

assert(iter(function a -> 2U * a + 4U, 1U, 4U) == [1U 6U 16U 36U]);
